project: https://pr4297.activestate.build/ActiveState/repoUrlTest?commitID=9dfda968-a375-42dc-a2d9-ca405e33e76a

scripts:
  - name: learn
    language: perl
    value: |
      use Browser::Open qw( open_browser );
      open_browser('https://platform.activestate.com/state-tool-cheat-sheet');
  - name: setup
    description: Runs the perl script to set up file extension associations and start menu shortcut pointing to the perl executable
    language: perl
    if: eq .OS.Name "Windows"
    value: |
      use lib q(.);
      use Setup qw(create_shortcut create_file_assoc);
      create_shortcut();
      create_file_assoc();
      print "Perl Shortcuts and File Associations created.\n\n"
  - name: introduction
    description: Short introduction to state tool usage and ActiveState platform basics
    language: perl
    value: |
      use if $^O eq "MSWin32", Win32::Console::ANSI;
      my $H = "\e[1;39;1m"; # Highlight
      my $A = "\e[1;36m"; # Actionable
      my $R = "\e[0m"; # Reset
      print <<EOT;

      You are now in an ${H}activated state${R}, this will give you a virtual environment to work in that doesn't affect the rest of your system.

      Your ${H}activated state${R} allows you to manage packages, scripts, secrets and more via the ${H}activestate.yaml${R} file at the root of your project directory.

      To manage packages use the `${A}state packages${R}` command. For more information about package management, use `${A}state packages --help${R}`. For more information about the State Tool use `${A}state help${R}`.

      To access additional features of the ActiveState Platform and use a web-based interface for managing your project, you can visit ${A}https://platform.activestate.com/ActiveState/Perl532-BundlesRC${R}.

      Edit your ${H}activestate.yaml${R} to remove this message.

      To get started, run `${A}state run learn${R}` to view a quick start guide of commonly used commands.
      EOT
events:
  - name: first-activate
    value: perl $scripts.setup.path()
  - name: activate
    value: perl $scripts.introduction.path()
